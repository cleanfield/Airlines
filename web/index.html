<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airlines Betrouwbaarheid Ranking | Real-time Flight Data</title>
    <meta name="description"
        content="Live ranking van luchtvaartmaatschappijen op basis van betrouwbaarheid, vertragingen en on-time performance">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M21 16V14L13 9V3.5C13 2.67 12.33 2 11.5 2C10.67 2 10 2.67 10 3.5V9L2 14V16L10 13.5V19L8 20.5V22L11.5 21L15 22V20.5L13 19V13.5L21 16Z"
                            fill="currentColor" />
                    </svg>
                    <h1>Airlines Betrouwbaarheid</h1>
                </div>
                <div class="header-stats">
                    <div class="stat-item">
                        <span class="stat-label">Laatste update</span>
                        <span class="stat-value" id="lastUpdate">Laden...</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Totaal vluchten</span>
                        <span class="stat-value" id="totalFlights">-</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2 class="hero-title">Welke luchtvaartmaatschappij is het meest betrouwbaar?</h2>
            <p class="hero-subtitle">Real-time ranking gebaseerd op actuele vluchtdata van Schiphol Airport</p>
        </div>
    </section>

    <!-- Filters -->
    <section class="filters">
        <div class="container">
            <div class="filter-group">
                <label for="flightType">Vluchttype</label>
                <select id="flightType" class="filter-select">
                    <option value="all">Alle vluchten</option>
                    <option value="departures">Vertrek</option>
                    <option value="arrivals">Aankomst</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="dateRange">Periode</label>
                <select id="dateRange" class="filter-select">
                    <option value="7">Laatste 7 dagen</option>
                    <option value="14">Laatste 14 dagen</option>
                    <option value="30" selected>Laatste 30 dagen</option>
                    <option value="90">Laatste 90 dagen</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="minFlights">Min. vluchten</label>
                <select id="minFlights" class="filter-select">
                    <option value="5">5+</option>
                    <option value="10" selected>10+</option>
                    <option value="20">20+</option>
                    <option value="50">50+</option>
                </select>
            </div>
            <button id="refreshBtn" class="btn-refresh">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58 4 4.01 7.58 4.01 12C4.01 16.42 7.58 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69 18 6 15.31 6 12C6 8.69 8.69 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z"
                        fill="currentColor" />
                </svg>
                Ververs
            </button>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Loading State -->
            <div id="loadingState" class="loading-state">
                <div class="spinner"></div>
                <p>Data laden...</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="error-state" style="display: none;">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H11V13Z"
                        fill="currentColor" />
                </svg>
                <h3>Kon data niet laden</h3>
                <p id="errorMessage">Er is een fout opgetreden bij het laden van de data.</p>
                <button onclick="loadData()" class="btn-retry">Opnieuw proberen</button>
            </div>

            <!-- Rankings Table -->
            <div id="rankingsContainer" style="display: none;">
                <div class="rankings-header">
                    <h2>Top Airlines Ranking</h2>
                    <div class="legend">
                        <div class="legend-item">
                            <span class="legend-color excellent"></span>
                            <span>Uitstekend (90%+)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color good"></span>
                            <span>Goed (80-90%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color average"></span>
                            <span>Gemiddeld (70-80%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color poor"></span>
                            <span>Matig (&lt;70%)</span>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table class="rankings-table">
                        <thead>
                            <tr>
                                <th class="rank-col">Rank</th>
                                <th class="airline-col">Luchtvaartmaatschappij</th>
                                <th class="score-col">Score</th>
                                <th class="ontime-col">Op tijd %</th>
                                <th class="delay-col">Gem. vertraging</th>
                                <th class="flights-col">Vluchten</th>
                                <th class="trend-col">Trend</th>
                            </tr>
                        </thead>
                        <tbody id="rankingsTableBody">
                            <!-- Data will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Statistics Cards -->
            <div id="statsContainer" class="stats-grid" style="display: none;">
                <div class="stat-card">
                    <div class="stat-card-icon best">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
                                fill="currentColor" />
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <h3>Beste Airline</h3>
                        <p class="stat-card-value" id="bestAirline">-</p>
                        <p class="stat-card-detail" id="bestAirlineScore">-</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-icon ontime">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z"
                                fill="currentColor" />
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <h3>Gemiddeld op tijd</h3>
                        <p class="stat-card-value" id="avgOnTime">-</p>
                        <p class="stat-card-detail">Van alle airlines</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-icon delay">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M13 3C8.03 3 4 7.03 4 12H1L4.89 15.89L4.96 16.03L9 12H6C6 8.13 9.13 5 13 5C16.87 5 20 8.13 20 12C20 15.87 16.87 19 13 19C11.07 19 9.32 18.21 8.06 16.94L6.64 18.36C8.27 19.99 10.51 21 13 21C17.97 21 22 16.97 22 12C22 7.03 17.97 3 13 3ZM12 8V13L16.28 15.54L17 14.33L13.5 12.25V8H12Z"
                                fill="currentColor" />
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <h3>Gem. vertraging</h3>
                        <p class="stat-card-value" id="avgDelay">-</p>
                        <p class="stat-card-detail">Alle vluchten</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-icon airlines">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M21 16V14L13 9V3.5C13 2.67 12.33 2 11.5 2C10.67 2 10 2.67 10 3.5V9L2 14V16L10 13.5V19L8 20.5V22L11.5 21L15 22V20.5L13 19V13.5L21 16Z"
                                fill="currentColor" />
                        </svg>
                    </div>
                    <div class="stat-card-content">
                        <h3>Airlines geanalyseerd</h3>
                        <p class="stat-card-value" id="totalAirlines">-</p>
                        <p class="stat-card-detail">In deze periode</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Airlines Betrouwbaarheid Tracker. Data van Schiphol Airport API.</p>
            <p class="footer-note">Betrouwbaarheidsscore = Op tijd % - (Gemiddelde vertraging / 10)</p>
        </div>
    </footer>

    <!-- Flight Details Modal -->
    <div id="flightDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalAirlineName">Flight Details</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="modalLoading" style="text-align: center; display: none;">
                    <div class="spinner"></div>
                    <p>Loading flights...</p>
                </div>
                <div id="modalFlightTableContainer">
                    <table class="flights-table">
                        <thead>
                            <tr>
                                <th>Flight</th>
                                <th>Date</th>
                                <th>Scheduled</th>
                                <th>Actual</th>
                                <th>Delay</th>
                                <th>Destination</th>
                                <th>Gate</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="modalFlightsBody">
                            <!-- Rows -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>